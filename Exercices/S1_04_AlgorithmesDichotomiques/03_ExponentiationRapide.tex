%\section{Valeur d'un polynôme par plusieurs méthodes}
	
\question{Écrire une fonction \texttt{exponaif(x,n)} d'arguments un réel $x$ et un entier naturel $n$, qui renvoie la valeur de $x^n$ par la méthode naïve $x^n=x\times x \times ... \times x$ ($n$ termes). Compter le nombre d'opérations dans exponaïf.}

%\medskip  Montrer que le nombre d'opérations effectuées a une complexité linéaire.

Une autre méthode, celle de l'exponentiation rapide consiste à remarquer que $$x^n=\left\{\begin{tabular}{ccc} ${(x^2)}^{n/2}$ &si &$n$ pair \\ ${x\times (x^2)}^{(n-1)/2}$& si& $n$ impair\end{tabular}\right.$$

Le code itératif correspondant est le suivant:

\bigskip 
\begin{minipage}{0.5\linewidth}
def expo\_rapide(x,n):\\
	\textcolor{white}{aaaa}  p,res,y = n,1,x\\
	\textcolor{white}{aaaa} while p>0:\\
	\textcolor{white}{aaaa}\textcolor{white}{aaaa} if p\%2==1:\\
	\textcolor{white}{aaaa}\textcolor{white}{aaaa}\textcolor{white}{aaaa}res=res*y\\
	\textcolor{white}{aaaa}\textcolor{white}{aaaa} p=p//2\\
	\textcolor{white}{aaaa}\textcolor{white}{aaaa} y=y*y\\
	\textcolor{white}{aaaa} return(res)\end{minipage}
	
	\question{Quel est le nom de la variable locale dont le contenu est retourné par la fonction ?}
	
	\question{Faire tourner \og{}à la main\fg{} la fonction pour $x=2$ et $n=10$ en complétant le tableau suivant puis encadrer le nombre d'opérations dans exporapide en fonction de $ln(n)/ln(2)$.}
	
	\begin{center}
		\begin{tabular}{|l|p{1cm}|p{1cm}|p{1cm}|}
			\hline & \texttt{p} & \texttt{res} & \texttt{y}\\
			\hline &&&\\
			sortie du 1{\textrm{er}} tour de boucle && & \\[3mm]
			sortie du 2\ieme\  tour de boucle && & \\[3mm]
			\ldots && & \\[3mm]
			\ldots&& & \\[3mm]
			&& & \\[3mm]
			&& & \\[3mm]
		\end{tabular}
		
	\end{center}
	
	
	%\q Montrer que le nombre d'opérations effectuées a une complexité logarithmique.


	\bigskip On considère un polynôme $$P(x)=\displaystyle\sum_{k=0}^n a_k.x^k$$ que l'on modélisera en Python par la liste $P=[a_0,a_1,...,a_n]$. Dans la suite, on prendra pour tout $k\in\mathbb{N}$, $a_k=k$.

	\question{Ecrire une fonction \texttt{Pnaif(x,n)} qui renvoie $P(x)$ à l'aide de la fonction \texttt{exponaif}. Compter le nombre d'opérations.}

	%\medskip Donner un équivalent du nombre d'opérations faites pour ce calcul et vérifier que la complexité est quadratique.

	\question{ Faire de même pour une fonction 
	\texttt{Prapide(x,n)} qui renvoie $P(x)$ à l'aide de la fonction \texttt{exporapide}. On admettra que la complexité est en O(n ln(n)).}
	
	%On peut montrer dans ce cas que la complexité est dominée par $n.\ln(n)$ (on admettra ce résultat).

	\bigskip Une dernière méthode consiste à utiliser le schéma de Hörner:
	\[P(x)= (\ldots{(a_nx+a_{n-1})x+a_{n-2})x+...+a_1)x+a_0}\]


\ldots
	\question{\'Ecrire une fonction \texttt{horner(x,L)} de paramètres un réel $x$ et une liste $L$ représentant un polynôme $P$, renvoie la valeur de $P(x)$ par la méthode de Hörner. Compter le nombre d'opérations.}

	%\medskip Compter le nombre d'opérations au total pour calculer $P(x)$ et en donner que la complexité du programme est linéaire.



	\bigskip On désire maintenant visualiser les temps d'exécution des trois fonctions précédentes pour des grandes valeurs de $n$.

	\question{Définir la liste $N$ des entiers naturels compris entre 0 et 100.}

	\question{Grâce à la fonction \texttt{perf$\_$counter} de la bibliothèque \texttt{time},  écrire une fonction \texttt{Temps\_calcul(x)} qui:}
\begin{itemize}
\item définit 3 listes \texttt{Tn}, \texttt{Tr} et \texttt{Th} contenant les temps de calcul de $P(x)$ pour $P=\displaystyle\sum_{k=0}^n k.x^k$ lorsque $n$ décrit $N$ avec respectivement la méthode naïve, la méthode rapide puis la méthode de Hörner.\\
\item trace les trois courbes  \texttt{Tn}, \texttt{Tr} et \texttt{Th} en fonction de $N$ (on prendra $x=2$). Interpréter le résultat (on pourrait démontrer que les temps d'exécution des trois programmes sont de l'ordre de $n**2$ pour la méthode naïve (on parle de complexité quadratique), de l'ordre de $n\ln(n)$ pour l'exporapide, et de l'ordre de $n$ pour la méthode de Hörner (complexité linéaire)). 
\end{itemize}
	
