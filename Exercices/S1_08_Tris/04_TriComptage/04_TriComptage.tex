%\exer{Tri par comptage d'une liste}
%\setcounter{numques}{0}

\section*{Tri par comptage}
On suppose que la liste à trier \lstinline{L} est constituée d’entiers de l’intervalle  $\llbracket 0; k \llbracket$. L’algorithme
fonctionne suivant le principe suivant: 
\begin{enumerate}
\item on parcourt une fois la liste et on compte le nombre d’éléments de
la liste égaux à 0, 1, ..., $k-1$. Pour ce faire on utilise une liste \lstinline{C} de taille $k$;
\item on procéde alors à une réécriture de la liste initiale, de sorte qu’en sortie elle soit constituée des mêmes éléments, mais triés dans l’ordre
croissant.
\end{enumerate}

Ainsi, si on cherche à trier la liste \lstinline{L=[2,1,4,1]}. Dans un premier temps on crée une liste \lstinline{C} contenant cinq fois la valeur 0 : \lstinline{C=[0,0,0,0,0]}. Une fois le comptage terminé on obtient la liste suivante : \lstinline{C=[0,2,1,0,1]}. La liste triée sera donc constituée de 2 fois la valeur 1 puis 1 fois la valeur 2 puis une fois la valeur 4 soit \lstinline{L=[1,1,2,4]}.



L’algorithme prend en entrée la liste $L$ à trier, ainsi qu’un entier $k$ tel que tous les éléments de la
liste soient des entiers de l’intervalle $\llbracket 0; k \llbracket$. On procède en deux étapes : d’abord compter les éléments de chaque type,
ensuite réécrire la liste $L$.

\question{Ecrire la fonction  \lstinline{tri_comptage(L : list, k : int) -> None} permettant de réaliser un tri par comptage avec effet de bord.}
\ifprof
\begin{corrige}
\begin{lstlisting}
def tri_comptage(L,k):
    C=[0]*k
    for i in range(len(L)):
        C[L[i]]=C[L[i]]+1
    p=0
    for i in range(k):
        for j in range(C[i]):
            L[p]=i
            p+=1
            
# Il s'agit ici d'un tri avec effet de bord et non stable. 
\end{lstlisting}
\end{corrige}
\else
\fi
\question{Ecrire la fonction  \lstinline{tri_comptage_02(L : list, k : int) -> list} permettant de réaliser un tri par comptage sans effet de bord.}
\ifprof
\begin{corrige}
\end{corrige}
\else
\fi
\begin{defi}[Tri en place -- Wikipedia]
Un tri est dit en place s'il n'utilise qu'un nombre très limité de variables et qu’il modifie directement la structure qu’il est en train de trier. Ceci nécessite l’utilisation d'une structure de donnée adaptée (un tableau par exemple). Ce caractère peut être très important si on ne dispose pas de beaucoup de mémoire.
\end{defi}

\begin{defi}[Tri stable  -- Wikipedia]
Un tri est dit stable s'il préserve l’ordonnancement initial des éléments que l'ordre considère comme égaux.
\end{defi}
\question{Les fonctions proposées réalisent-t-elles un tri stable ? un tri en place ?}
\ifprof
\begin{corrige}
\end{corrige}
\else
\fi

