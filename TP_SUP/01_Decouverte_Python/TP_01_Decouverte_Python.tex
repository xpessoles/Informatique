\documentclass[10pt]{article}
\input{style/coursHeadings}
\input{style/programHeadings}
\input{style/macros_SII}
\input{style/macros_Titres}
\input{style/macros_Frames}

%Si le boolen xp est vrai : compilation pour xabi
%Sinon compilation Damien
\newif\ifprof
%\proftrue
\proffalse

\newif\ifxp
\xptrue
%\xpfalse

\newif\iftd
\tdtrue
%\tdfalse

\usepackage[%
    pdftitle={},
    pdfauthor={Xavier Pessoles},
    colorlinks=true,
    linkcolor=blue,
    citecolor=magenta]{hyperref}

\def\discipline{Informatique}
\def\xxtitre{%
\ifxp
Partie 2 : Algorithmique \& Programmation
\else
\fi
}

\def\xxsoustitre{%
\ifxp
TP 1 -- Découverte de Python
\else
\fi}

\def\xxauteur{%
\ifxp
\textit{Xavier Pessoles} \\
\textit{Gilles Himmeslpach}
\else
\fi}

\def\xxpied{%
\ifxp
Partie 2 : Algorithmique \& Programmation\\
TP 1 : Découverte de Python
\else
\fi}






%---------------------------------------------------------------------------


\begin{document}
\ifxp
\input{style/enteteXP}
\else
\input{style/enteteDI}
\fi



 \renewcommand{\baselinestretch}{1.2}
\setlength{\parskip}{2ex plus 0.5ex minus 0.2ex}


\begin{obj}
\begin{itemize}
\item Découvrir l'environnement Python.
\item Découvrir les limites de Python.
\item Manipuler différents types.
\end{itemize}
\end{obj}
 



\begin{rem}
Python est un langage de programmation dont nous découvrirons les possibilités en cours. 
Pour exécuter un programme écrit en Python, il existe plusieurs \textit{<< interpréteurs >>}.

Dans le cadre de ce TP, nous proposons d'utiliser Spyder qui intègre des bibliothèques scientifiques.
\end{rem}

Commencer par copier-coller le Sujet de TP dans votre répertoire personnel.

Pour ouvrir Spyder :
\begin{enumerate}
\item sur le bureau, aller dans le dossier Pédagogie;
\item lancer Spyder.
\end{enumerate}

\begin{center}
\includegraphics[width=.9\textwidth]{images/Spyder}

\textit{Fenêtre Spyder}
\end{center}



% \vspace{1cm}
\textit{Ce document évolue. Merci de signaler toutes les erreurs ou coquilles constatées.}


La console (appelée aussi invite de commande, shell, interpréteur de commande ...) permet de tester des lignes de codes. Le résultat d'une commande s'affiche directement dans la console. 

\begin{exemple}
Saisir la ligne suivante dans la console :
\begin{py}
\begin{python}
>>> print(''When Alexander Bell invented telephone he had 3 missed calls from Chuck Norris.'')
\end{python}
\end{py}

Quel est le résultat ?
\end{exemple}

L'éditeur de texte permet d'écrire plusieurs instructions successives. Pour exécuter les instructions saisies, il faut sauver le fichier puis l'exécuter en utilisant le bouton prévu à cet effet (Triangle vert). Le résultat est affiché dans la console. 



\begin{exemple}
Saisir la ligne suivante dans l'éditeur de texte. :
\begin{py}
\begin{python}
print(''When Alexander Bell invented telephone he had 3 missed calls from Chuck Norris.'')
\end{python}
\end{py}

Quel est le résultat ?
\end{exemple}

Suivant les éditeurs de texte, de nombreuses fonctionnalités peuvent être intégrées (coloration syntaxique, proposition de méthodes, complétion ...).

La programmation permet de stocker des variables. Ainsi, l'explorateur de variable peut être nécessaire pour visualiser leur contenu.

\subsection*{Exercice 1 -- Découverte de l'interpréteur}
\begin{obj}
\begin{itemize}
\item Découvrir l'interpréteur (\textsf{shell}).
\item Découvrir les instructions élémentaires.
\item Découvrir la notion de type.
\item Découvrir la notion d'affectation. 
\end{itemize}
\end{obj}



Dans l'interpréteur python, saisir les instructions suivantes :
\begin{py}
\begin{python}
>>> 4+3
>>> 4*3
>>> 7/2.
>>> 7//2
>>> 7**2
>>> 7%2
\end{python}
\end{py}

\subparagraph{}
\textit{Quel est le but de chacune de ces instructions ?}

Dans l'interpréteur python, saisir les instructions suivantes :
\begin{py}
\begin{python}
>>> "Abracadabra"
>>> print(''abracadabra'')
>>>  #abracadabra
>>>  abracadabra
\end{python}
\end{py}

\subparagraph{}
\textit{Expliquer les différences entre les instructions précédentes.}


\begin{rem}
Que se passe-t-il en saisissant l'instruction suivante ?
\begin{py}
\begin{python}
>>> "Abrac"+"adabra"
\end{python}
\end{py}
\end{rem}

\begin{rem}
De manière générale pour afficher du texte, on utiliser l'instruction \textsl{print}.
\end{rem}

On va maintenant \textit{affecter des variables}, c'est à dire qu'on va chercher à stocker des valeurs. Dans l'interpréteur python, saisir les instructions suivantes :

\begin{py}
\begin{python}
>>> a=1
>>> b=2
>>> a=b
>>> b=a
\end{python}
\end{py}

\subparagraph{} 
\textit{En utilisant un tableau, préciser les valeurs stockées dans a et dans b après l’exécution de chacune des commandes.}


Dans l'interpréteur python, saisir les instructions suivantes :
\begin{py}
\begin{python}
>>>a=1
>>>b=''1''
>>>c=1.
\end{python}
\end{py}


\subparagraph{} 
\textit{Quelle est d'après la différence entre ces affectations ?}

La fonction \textsl{type(variable)} permet de connaître… le type d’une variable. 


\subparagraph{} 
\textit{Quel est le type de chacune des variables $a$, $b$ et $c$ ? Comment peut-on traduire ces types en français ?}

Dans l'interpréteur python, saisir les instructions suivantes :
\begin{py}
\begin{python}
>>>a=1
>>>b=2
>>>a<b
>>>a>b
>>>a==b
>>>a!=b
\end{python}
\end{py}

\subparagraph{} 
\textit{Expliquer le but de chacune de ces opérations.}


La commande \textsl{input()} permet au shell de demander à l’utilisateur de saisir une variable. En lançant cette commande le shell attend donc une saisie au clavier terminée par la touche entrée. 

Saisir les instructions suivantes : 
\begin{py}
\begin{python}
>>>input(''Coucou :'')
>>>input()
\end{python}
\end{py}

\subparagraph{} 
\textit{Expliquer ce qu’il se passe.}


Il est alors possible de stocker une information donnée par l’utilisateur. Saisir les instructions suivantes : 

\begin{py}
\begin{python}
>>>a = input(''Quel âge as-tu ?'')
\end{python}
\end{py}

\subparagraph{} 
\textit{Quelle valeur contient a ? Quel est le type de a ? Quelle différence peut-il y avoir entre saisir son âge en chiffres ou en lettres ? Quel problème cela peut-il poser ?}


\begin{rem}
Vous avez dû constater qu’il existe les types int, str, float. Lorsqu’on manipule des nombres (entiers, réels ou chaîne de caractère, il est possible de les convertir) :
\begin{itemize}
\item Conversion d’un nombre réel en chaîne de caractère :
\begin{itemize}
\item \textsf{str(2.)}
\end{itemize}
\item Conversion d’une chaîne de caractère en nombre réel : 
\begin{itemize}
\item \textsf{float(''2.'')}
\end{itemize}
\end{itemize}
Attention à bien manipuler des nombres.
\end{rem}


\subsection*{Exercice 2 : Découverte de l'éditeur de texte}
\setcounter{subparagraph}{0}
Un des avantages d’utiliser un éditeur de texte est qu’il permet de corriger les erreurs de frappe ou de syntaxe. Il permet aussi de sauvegarder le code qui a été saisi. 


\begin{py}
Saisir l'instruction suivante dans le fichier.
\begin{python}
print(''Chuck Norris counted to infinity - twice '')
\end{python}
\end{py}

\subparagraph{}
\textit{Quel est le résultat lorsqu’on exécute le code ?}

\subparagraph{}
\textit{En vous aidant de l’exercice précédent, on demande d’écrire un programme qui aura pour but de demander un nombre à l’utilisateur. Le programme devra alors élever ce nombre au carré et renvoyer le résultat dans une phrase (Par exemple : si l’utilisateur saisi le nombre 8, le programme devra permettre d’écrire la phrase suivante dans l’interpréteur de commande : « Le carré de 8 vaut 64 ».).}


\subsection*{Exercice 3 : Découverte de la boucle for}
\setcounter{subparagraph}{0}

\begin{defi}
Le mot algorithme vient du nom latinisé du mathématicien perse Al-Khawarizmi, surnommé « le père de l’algèbre~». Un algorithme est une suite finie et non ambigüe d’opérations ou d’instructions permettant de résoudre un problème.
\end{defi}

\begin{obj}
\begin{itemize}
\item Découvrir la boucle \textsf{for}.
\end{itemize}
\end{obj}

On donne la syntaxe d'une boucle \textsf{for} :

\begin{py}
\begin{python}
for i in range (0,10):
    print(i)
\end{python}
\end{py}
\begin{rem}
\begin{itemize}
\item La première ligne se termine par deux points.
\item La seconde ligne est précédée d’une indentation. Une indentation est composée de 4 espaces. 
\item Pour terminer une boucle \textsf{for}, il faut supprimer l’indentation (c'est-à-dire revenir un début de ligne). 
\end{itemize}
\end{rem}

\subparagraph{}
\textit{Saisir le code ci-dessus. Quel est son but ?}


\subparagraph{}
\textit{En substituant les lignes suivantes dans le code saisi précédemment, expliquer le rôle de la fonction \textsf{range}. }

\begin{py}
\begin{python}
>>>range(5)
>>>range(0,6)
>>>range(0,10,2)
>>>range(10,2,-2)
\end{python}
\end{py}


\subparagraph{}
\textit{En utilisant une boucle \textsf{for}, réaliser un algorithme permettant de calculer la somme $s$ des $n$ premiers entiers, $n$ étant laissé au choix de l’utilisateur :}

$$
s = \sum\limits_{i=0}^{n} i
$$

\subparagraph{}
\textit{Le calcul de cette boucle a-t-elle un intérêt ? Si non, pourquoi ?}


\subsection*{Exercice 4 : Boucle while}
\setcounter{subparagraph}{0}
\begin{obj}
Découvrir la boucle \textsf{while}.
\end{obj}

\begin{py}
La boucle \textsf{while} permet de réaliser une instruction tant qu’une condition reste vraie :
\begin{python}
i=0
while i<10:
    print(i)
    i=i+1
\end{python}
\end{py}

\begin{warn}
Il faut prêter attention à ce que la condition évolue à chaque itération pour éviter le risque de ne jamais sortir de la boucle.
\end{warn}

\subparagraph*{}
\textit{Traiter l'exercice précédent en utilisant une boucle \textsf{while}.}

\subsection*{Exercice 5 : Heures, Minutes, Secondes -- Structure \textsf{If}}
\setcounter{subparagraph}{0}
\begin{py}
La boucle \textsf{if} permet de réaliser une instruction en fonction de la validité d’une condition :
\begin{python}
i=2
if i<10:
    print(i)
else :
    print(''i>10'')
\end{python}
\end{py}

\subparagraph*{}
\textit{Écrire un programme Python permettant de calculer le temps écoulé entre deux horaires saisis au clavier par l'utilisateur; les horaires seront saisis au format (heures, minutes, secondes) et le résultat sera affiché en secondes et au format (heures, minutes, secondes).}

\subsection*{Exercice 6 : Calcul de factorielle}
$n!$ (factorielle $n$) est définie par :
$$
\forall n\in \mathbb{N} \left\{
\begin{array}{l}
\text{si } n=0, \; n! = 1 \\
\text{sinon } n! = \prod\limits_{i=1}^n i 
\end{array}
\right.
$$

\subparagraph*{}
\textit{Écrire un programme Python permettant de calculer $n!$.}


\subsection*{Exercice 6 : Jeu du plus ou moins}
\setcounter{subparagraph}{0}

\subparagraph*{}
\textit{Écrire un programme Python permettant à l’utilisateur de trouver un nombre choisi au hasard par le programme en ayant comme unique indication « le nombre cherché est plus grand » ou « le nombre cherché est plus petit ». L’intervalle dans lequel se trouve le nombre cherché est précisé à l’utilisateur (entre 1 et 100 par exemple).}

\begin{py}
Au cours de ce programme, l’ordinateur doit choisir un nombre au hasard. On va pour cela utiliser une fonction qui n’est pas présente par défaut dans Python, la fonction randrange appartenant à la bibliothèque random.

Import de la fonction :
\begin{python}
from random import randrange
\end{python}
Utilisation de la fonction :
\begin{python}
randrange(n) # renvoie un nombre entier aléatoire compris entre 0 et n-1
randrange(m,n) # renvoie un nombre entier aléatoire compris entre m et n-1
\end{python}
\end{py}



\subsection*{Exercice 7 : Année bissextile}
\setcounter{subparagraph}{0}

Le système de date utilisé par Excel est basé sur le calendrier grégorien, établi en 1582 par le pape Grégoire XIII. Ce calendrier a été conçu pour corriger les erreurs introduites par le calendrier julien moins précis.

Dans le calendrier grégorien, une année normale comprend 365 jours. Étant donné que la durée réelle d'une année est en fait de 365.242198 jours, une « année bissextile » de 366 jours est utilisée tous les quatre ans pour éliminer l'erreur provoquée par trois années consécutives de 365 jours. N'importe quelle année divisible par 4 est une année bissextile : par exemple, 1988, 1992 et 1996 sont des années bissextiles.

Toutefois, il reste encore une petite erreur qui doit être prise en compte. Pour éliminer cette erreur, le calendrier grégorien prévoit qu'une année qui est divisible par 100 (par exemple, 1900) est une année bissextile uniquement si elle est également divisible par 400.

Pour cette raison, les années suivantes ne sont pas des années bissextiles : 1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600. C'est parce qu'elles sont également divisibles par 100, mais pas par 400. 

Les années suivantes sont des années bissextiles : 1600, 2000, 2400. C'est parce qu'elles sont divisibles par 100 et 400.

\begin{rem}
En Python, 5\%4 affiche le reste de la division euclidienne de 5 par 4.
\end{rem}


\subparagraph*{}
\textit{Écrire un programme capable de déterminer si l’année entrée par l’utilisateur est une année bissextile ou pas.}



\subsection*{Exercice 8 : Algorithmes de recherche élémentaires}
\setcounter{subparagraph}{0}



\subparagraph*{}
\textit{Écrire un programme Python permettant à l’utilisateur de saisir deux entiers $n$ et $m$ tels que $n<m$ et de rechercher parmi tous les entiers contenus dans l’intervalle $[n,m]$ ceux qui : 
\begin{itemize}
\item sont impairs;
\item sont multiples de 5;
\item contiennent le chiffre 2.
\end{itemize}}
	

\subsection*{Exercice 9 : La suite de Syracuse ou conjecture de Collatz}
\setcounter{subparagraph}{0}

On appelle fonction de Collatz la fonction $f:\mathbb{N}^* \to  \mathbb{N}^*$ qui à $n$ associe $n/2$ si $n$ est pair et $3n+1$ sinon.
On appelle la suite de Collatz une suite récurrente telle que $u_0\in \mathbb{N}^*$ et pour tout $k$, $u_(k+1)=f(u_k)$.

\subparagraph{}
\textit{Pour $u_0=1$, $u_0=2$, $u_0=3$, calculer les premiers éléments de la suite. Que remarquez-vous ?}

\begin{rem}
	Vous devez constater que lorsqu’un terme de la suite vaut 4, la suite devient périodique : les termes de la suite valant successivement 4, 2, 1, 4, 2, 1, \textit{etc}.
	
	La conjecture de Collatz est une hypothèse selon laquelle, toute suite de Collatz a un terme valant 4.
	
	Cette conjecture n’a jamais été démontrée ou infirmée. Elle est mise à prix à 1 millions de dollars.
\end{rem}

\subparagraph{}
\textit{Écrire un programme permettant de calculer et d’afficher les termes de la suite. Les constats effectués précédemment sont-ils vérifiés ?}

On appelle vol de l’entier $n$ la liste des termes de la suite de Collatz initialisée avec $u_0=n$ jusqu’à l’apparition du premier 4. 

\subparagraph{}
\textit{Écrire un programme permettant de calculer le vol d’un entier.}



\subsection*{Exercice 10 : Triangle de Pascal}
\setcounter{subparagraph}{0}

Le triangle de Pascal peut prendre la forme suivante :
\begin{center}
\begin{tabular}{c|c|c|c|c|c|c|c|c|c|}
\multicolumn{1}{c}{}& \multicolumn{9}{c}{Colonne $p$} \\
 \cline{2-10} 
\multirow{9}*{Ligne $n$} & 1 & & & & & & & & \\\cline{2-10} 
& 1 & 1& & & & & & & \\ \cline{2-10} 
& 1 & 2& 1& & & & & & \\ \cline{2-10} 
& 1 & 3& 3& 1& & & & & \\ \cline{2-10} 
& 1 & 4& 6& 4& 1& & & & \\ \cline{2-10} 
& 1 & 5& 10& 10& 5& 1& & & \\ \cline{2-10} 
& 1 & 6& 15& 20& 15& 6& 1& & \\ \cline{2-10} 
& 1 & 7& 21& 35& 35& 21& 7& 1& \\ \cline{2-10} 
& 1 & 8& 28& 56& 70& 56& 28& 8& 1\\ \cline{2-10} 
\end{tabular}
\end{center}


On rappelle que le coefficient $\begin{pmatrix} n \\ p \end{pmatrix}$ de la ligne $n$ et de la colonne $p$ s’obtient en ajoutant le coefficient de la ligne $n-1$ et de la colonne $p$ au coefficient de la ligne $n-1$ et de la colonne $p-1$ :
$\begin{pmatrix} n \\ p \end{pmatrix}
= \begin{pmatrix} n-1 \\ p \end{pmatrix} 
 + \begin{pmatrix} n-1 \\ p-1 \end{pmatrix} $

Par exemple, le coefficient 10 (sixième ligne, troisième colonne) est la somme de 4 (cinquième ligne, deuxième colonne) et de 6 (cinquième ligne, troisième colonne).

Le coefficient $\begin{pmatrix} n \\ p \end{pmatrix}$ peut aussi se calculer à partir de la formule du binôme de Newton : 
$\begin{pmatrix} n \\ p \end{pmatrix}=n!/(n-p)!p!$

\subparagraph*{}
\textit{Réaliser un programme permettant d’afficher les différents coefficients du triangle de Pascal.}

\end{document}


